# Network Sniffing

Ultimately, every hacker wishes to compromise a target system and gain access to the system. The goal is same for any hacker, regardless of the hacker's type (Either Blue, White or Grey). Before a hacker can compromise the system, he must know a great deal of information about the target system. There are two main reasons you should know about the available tools which can find the system's vulnerabilities. First, we should have the information about recent available tools in the market which hackers can potentially use. Secondly, we can use available tools to audit our own system's vulnerabilities. That way if we know our system's vulnerabilities then we have chances to fix them before someone exploits them.

Current computer networks are vulnerable to sniffer
tools. In this activity we will see the fundamental
flaws of current networks that make sniffing an
easy task (Ethernet).??

### How Ethernet functions? - CSMA/CD

Before we discuss the packet sniffing tools, we need to understand the function of data link layer(Ethernet). If there are many devices attached to the same network segment. Just imagine, if all devices try to send a message at the same time on the shared segment.

![GitHub Logo](./images/CSMA-CD.gif)
<!--- (source: http://pharoah-net.blogspot.com.au/2011/12/logical-topology.html -->

Lets take another example to understand it more clearly. There are 30 students in a classroom. Teacher asked a question to students. If all 30 students start speaking at the same time. Would it be possible for a teacher to listen an answer clearly? Obviously, no. Why? Because of a collision between every students voice signals which are travelling in the same classroom. What would be the solution? Before speaking, every student check/sense, Is there any other student speaking at the moment? If yes, student will wait for a while and try again after the wait. If no, then student will start speaking instantly. Exaclty the same way, CSMA/CD works.


### What is Network Analysis and Sniffing?

A process of capturing network traffic and inspecting it closely to determine what is happening on the network is called Network Analysis. A network analyzer tool decodes the data packets of common protocols and displays the network traffic in a human-readable format. We can call network analysis as either sniffing or packet analysis or protocol analysis or eavesdropping or traffic analysis. Sniffing is more popular name by the way.

### How can we differenciate different network analyzers?

Network analyzer can be the combination of either hardware and software or just a software. Major difference between various network analyzer is the no. of protocols they understand and decode. In addition, the quality of decoding, the user interface and graphing stastical capabilities may vary between different network analyzers.

### How Man-in-the-Middle can use Sniffers?
* Compromising proprietary information
* Capturing clear-text usernames and passwords
* Capturing and replaying Voice over IP telephone conversations
* Mapping a network
* Passive OS fingerprinting

### How Man-in-the-Middle start the sniffing process?
First attacker gain an access to the communication cable of the targeted system by tapping into the cable somewhere between the path of the communications. There are ways to achieve this as below:
* Physically sense the data from the cable.
* Breaking into a target computer, install sniffing software and control it remotely.
* Breaking into an Internet Service Provider(ISP), install sniffing software and control it remotely.
* Find out the existing system at ISP which has already sniffing software installed.
* Using social engineering to gain physical access at an ISP to install a packet sniffer.
* Having a insider partner in crime at the target organization or ISP who can install a sniffing software.
* Diverting communication to a path that includes the intruder's computer.

### Common Network Analyzer Tools
* Wireshark (formerly known as Ethereal)
* CommView :
* dSniff :
* ngrep :
* snoop :
* Tcpdump :
* Fiddler :
* Carnivore (by FBI) :
* Snort :
* Kismet :
* Ettercap :
* Lanmeter :
* Xplico :


### Your task
Investigate the difference between CSMA/CA and CSMA/CD. Which one would you consider using? Compare various packet sniffers and find out which one works with GUI and which one supports CLI. Which packet sniffers are supported by Windows, macOS, Linux, BSDs and Solaris? Which one would you prefer?

Use Wireshark to sniff on your network. Discuss whether current standards can be modified to prevent sniffing.
