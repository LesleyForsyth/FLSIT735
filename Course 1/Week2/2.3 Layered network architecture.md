# How a message travels over the Internet using a Network Architecture

Now we know how Internet was formed and How important protocols are? Lets see, how Internet works, means how a message travels from one computer to another over the Internet.

### What is Protocol?
A protocol is a set of rules that decide how systems communicate. For networking, they decide how data is transferred from one computer to another.

### What is a Protocol Suite?
A protocol suite is a collection of protocols that are designed to work together. TCP/IP is an example of a protocol suite.

### Protocol Stacks
As we discussed earlier, to keep the roads safer, we all need to follow same traffic rules. The same way we all need to use the same protocols while we communicate over the Internet. 

We can write a protocol that takes a data from one computer application and sends it to an application on another computer which is known as a single stack protocol. In this example, we are using a single protocol to satisfy the whole functionality of the application. This approach is not flexible in case any change require, we will need to change the entire application and protocol software.

## Layered Protocol Stack

As a solution, researchers have divided whole problem of communication into smaller pieces, which are easier to solve. Each layers in the network architecture targets smaller piece of problem. That is the main reason why we have layers in the network architecture. As a bonus, it give you more flexibility, because you can change a layer without affecting the other layers. Each layer is associated to set of protocols which can be changed as per the requirement of the application.
Each layer of the stack performs a particular function and communicates with the levels above and below it.

Lets take an example of parcel service to understand it. Task is to send a parcel from one office to another office. We will divide the task in two separate processes as follow:

1. Take a package, wrap it, address it.
2. Send it to the destination.

at the receiving end

1. Receive the package
2. Deliver it to the recipient

Typically you would have an internal mail man that:

1. Collects the parcels from the senders and takes then to a mail dispatch room.
2. The parcels are placed in a van by the dispatcher and then driven to the remote office.

At the remote office

1. The parcels are received by the dispatcher and placed into a tray for the mail man
2. The mail man collects the parcels and delivers them to the recipients,

Diagram below shows the process:







To understand the above question, we will look at networking protocol models and understand how and why they are structured into layers.



## What is the importance of network architecture

Just imagine, we have set of rules and regulations placed. We have interconnected billions of devices to form a network. but what if each device follows different set of rules on the Internet? 



Do we all need to follow the same rules on the internet?

What would happen if we all followed our own rules when communicating online?  

To answer these questions, let's first start by looking at standard network architecture.  This conceptual models uses a set of communications protocols to communicate with others online and on similar computer networks.

A network is divided into different functional components called layers. We will discuss the two main layer models: OSI and TCP.

## OSI network model
The Open Systems Interconnection model (OSI model) is a theoretical model that embodies and regulates the communication functions of a computing system without respect to its underlying interior structure and technology. Its goal is to ensure the interoperability of various communication systems with standard protocols. There are several layers in the OSI network model. Each layer serves the layer above it and is served by the layer below it.

Let's take a look at it in a little bit more detail:

![GitHub Logo](./images/OSI_Layers.gif)
<!--- (source: http://rismanabila20.blogspot.com.au/2016/09/) -->

* **Layer 1 - Physical Layer**: It represents connectors, wiring and specifications on how voltage and bits pass over cable or on wireless mediums.

* **Layer 2 - Data Link Layer**: This layer is responsible for linking data between nodes.  It is responsible for error control and flow control services.

* **Layer 3 - Network Layer**: The network layer is the one that defines how interconnected networks function. It takes a data from the transport layer and wraps it inside a packet or datagram.  We're going to be looking at the network layer in detail during the course.

* **Layer 4 - Transport Layer**: It is responsible for reliable message transfer and communication between programs or processes. Port or socket numbers are used to identify these unique processes. TCP is an example of Transport Layer protocol. Examples of transport layer protocols are TCP, UDP, SCTP, DCCP etc.

* **Layer 5 - Session Layer**: It controls the connections/sessions between computers. Examples of session layer protocols are NetBIOS and RPC (Remote Procedure Call).

* **Layer 6 - Presentation Layer**: The presentation layer transforms data into the form that the application accepts. It also does encryption and compression. Examples of presentation layer protocols are MIME, SSL, TLS, XDR etc.

* **Layer 7 - Application Layer**: The application layer is the OSI layer closest to the end user, which means both the OSI application layer and the user interact directly with the software application. Example of Application layer protocols are FTP, SNMP, SMTP and Telnet.

### Layers in application - VIKRANT AND ROLAND TO ADD CONTENT

Let's give a very simple example to give you an overview of how these layers might work together to deliver a message.

Paul wants to send an email to his professor... (description of what each layer is doing to pass the message from one person to another).

## TCP/IP protocol suite

It is commonly known as TCP/IP because the foundational protocols in the suite are the Transmission Control Protocol (TCP) and the Internet Protocol (IP). It consists of four main layers such as Data Link Layer, Network Layer, Transport Layer and Application Layer.

![GitHub Logo](./images/TCP-IP_stack.png)
<!--- (source: 
https://en.wikipedia.org/wiki/Internet_protocol_suite#/media/File:IP_stack_connections.svg -->

## TCP/IP layers and associated devices

* **Layer 3** - **Network Layer** - **Router, Layer 3 switch**
* **Layer 2** - **Data Link Layer** - **Bridge, Switch**
* **Layer 1** - **Physical Layer** - **Hub, Repeaters**

![GitHub Logo](./images/Networkdevices.jpg)
<!--- (source: 
https://www.automation.com/library/articles-white-papers/industrial-ethernet/introduction-to-switch-technology) -->

### Your task
After exploring OSI network model and TCP/IP protocol suite, do you think layered abstraction helps to increase the security in our networks?  How can the protocols be improved?
